{"version":3,"sources":["user-card.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAA,CAAE,SAAA;WACE,CAAA,CAAE,oBAAF,CACI,CAAC,EADL,CACQ,OADR,EACiB,SAAA;AACT,UAAA;MAAA,oBAAA,GAAuB,CAAA,CAAE,IAAF,CACC,CAAC,OADF,CACU,yBADV;aAGvB,CAAA,CAAE,iBAAF,EAAqB,oBAArB,CACI,CAAC,aADL,CACmB,MADnB,EAC2B,mBAD3B;IAJS,CADjB;EADF,CAAF;;EASA,CAAA,CAAE,iBAAF,CACI,CAAC,EADL,CACQ,uBADR,EACiC,SAAC,CAAD,EAAI,EAAJ,EAAQ,OAAR;AACzB,QAAA;IAAA,oBAAA,GAAuB,CAAA,CAAE,IAAF,CACK,CAAC,OADN,CACc,yBADd;IAGvB,YAAA,GAAe,oBAAoB,CAAC,IAArB,CAA0B,eAA1B;IACf,IAAA,GAAO,CAAA,CAAE,MAAF,EAAU,oBAAV;IAEP,IAAG,CAAC,OAAA,CAAQ,OAAO,CAAC,WAAW,CAAC,IAA5B,CAAJ;aACI,CAAC,CAAC,MAAF,CACI;QAAA,OAAA,EAAS,YAAT;OADJ,EAGI;QAAA,IAAA,EAAM,OAAN;QACA,SAAA,EACI;UAAA,KAAA,EAAO,QAAP;SAFJ;OAHJ,EADJ;KAAA,MAAA;MAQI,CAAA,CAAE,sBAAF,EAA0B,oBAA1B,CACI,CAAC,GADL,CACS,WAAA,GAAY,OAAO,CAAC,WAAW,CAAC,IAAhC,GAAqC,QAD9C;MAGA,CAAA,CAAE,qBAAF,EAAyB,oBAAzB,CACI,CAAC,IADL,CACU,KADV,EACiB,WAAA,GAAY,OAAO,CAAC,WAAW,CAAC,IAAhC,GAAqC,QADtD;MAGA,IAAG,IAAI,CAAC,MAAR;eACI,IAAI,CAAC,MAAL,CAAA,EADJ;OAdJ;;EAPyB,CADjC;AATA","file":"user-card.js","sourcesContent":["$ ->\n    $ '.widget-user-image'\n        .on 'click', () ->\n            mediaSelectorWrapper = $ this\n                                    .parents '.media-selector-wrapper'\n\n            $ '.library-finder', mediaSelectorWrapper\n                .libraryFinder 'show', 'widget-user-image'\n\n$ '.library-finder'\n    .on 'media.finder.selected', (e, id, library) ->\n        mediaSelectorWrapper = $ this\n                                    .parents '.media-selector-wrapper'\n\n        errorMessage = mediaSelectorWrapper.data 'nonImageError'\n        form = $ 'form', mediaSelectorWrapper\n\n        if !isImage(library.description.mime)\n            $.notify\n                message: errorMessage\n            ,\n                type: 'error'\n                placement:\n                    align: 'center'\n        else\n            $ 'input[name=\"avatar\"]', mediaSelectorWrapper\n                .val \"/uploads/#{library.description.path}/thumb\"\n\n            $ '.media-selector img', mediaSelectorWrapper\n                .attr 'src', \"/uploads/#{library.description.path}/thumb\"\n\n            if form.length\n                form.submit()"],"sourceRoot":"/source/"}