{"version":3,"sources":["index.coffee"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["$ '#create-form, #update-form'\n    .modal\n        show: false\n\n$ document\n    .on 'ajax.form.success', '#trashed-restore', (evt, data, textStatus, jqXHR) ->\n        activeTable.draw()\n\n$ document\n    .on 'ajax.form.success', '#active-delete', (evt, data, textStatus, jqXHR) ->\n        trashedTable.draw()\n\n$ 'form.ajax', '#create-form, #update-form'\n    .on 'ajax.form.success', (evt, data, textStatus, jqXHR) ->\n        $ this\n            .trigger \"reset\"\n\n        $ this\n            .parents '.modal'\n            .modal 'hide'\n\n        $ 'select', this\n            .trigger 'change'\n\n        activeTable.draw()\n\n$ '#active-table'\n    .on 'click', '.active-update', () ->\n        that = this\n        url = $ this\n                  .prop 'href'\n\n        $('form', '#update-form')[0]\n            .reset()\n\n        $ 'select', '#update-form'\n            .trigger 'change'\n\n        $overlay = $ '.overlay', '#update-form'\n\n        $ '#update-form'\n            .modal 'show'\n        \n        $overlay.removeClass 'hide'\n\n        $.get url, (result) ->\n            $overlay.addClass 'hide'\n\n            $ 'form', '#update-form'\n                .prop 'action', \"/admin/inoplate-account/roles/#{result.role.id}/edit\"\n\n            $ 'input[name=\"name\"]', '#update-form'\n                .val result.role.name\n            $ 'input[name=\"slug\"]', '#update-form'\n                .val result.role.description.slug\n\n        false\n\n\nactiveTable = $ '#active-table'\n                    .DataTable\n                        order: [[ 3, \"desc\" ]],\n                        columns: [\n                            \"name\": \"id\"\n                        ,\n                            \"name\": \"name\"\n                        ,\n                            \"name\": \"slug\"\n                        ,\n                            \"name\": \"created_at\"\n                        ,\n                            \"name\": \"actions\"\n                        ],\n                        columnDefs: [\n                            targets: 0\n                            sortable: false\n                            searchable: false\n                        ,\n                            targets: 3\n                            render: (data, type, row, meta) ->\n                                return moment data\n                                            .format 'LL'\n                        ,\n                            targets: 4\n                            searchable: false\n                            sortable: false\n                            render: (data, type, row, meta) ->\n                                rendered = '<div class=\"text-right\">'\n                                token = $ 'meta[name=\"csrf-token\"]'\n                                            .attr 'content'\n\n                                if $.inArray 'update', data != -1 then rendered += \"<a href=\\\"/admin/inoplate-account/roles/#{row[0]}/edit\\\" class=\\\"btn btn-default btn-sm active-update\\\"><i class=\\\"fa fa-pencil\\\"></i></a>\"\n\n                                rendered += \"</div>\"\n\n                                return rendered\n                        ]\n                        ajax: \n                            url: 'admin/inoplate-account/roles/datatables'\n\n                        buttons: true\n\ntrashedTable = $ '#trashed-table'\n                    .DataTable\n                        order: [[ 3, \"desc\" ]],\n                        columns: [\n                            \"name\": \"id\"\n                        ,\n                            \"name\": \"name\"\n                        ,\n                            \"name\": \"slug\"\n                        ,\n                            \"name\": \"created_at\"\n                        ],\n                        columnDefs: [\n                            targets: 0\n                            sortable: false\n                            searchable: false\n                        ,\n                            targets: 3\n                            render: (data, type, row, meta) ->\n                                return moment data\n                                            .format 'LL'\n                        ]\n                        ajax: \n                            url: 'admin/inoplate-account/roles/datatables/trashed'\n\n                        buttons: true\n\nactiveButtons = $ '#active-table'\n                    .data 'actions'\n\nincr = 2;\n\nindex = $.inArray 'delete', activeButtons\n\nif index != -1 \n    index += incr;\n    activeTable.button()\n        .add index,\n            extend: 'bulk'\n            method: 'delete'\n            url: 'admin/inoplate-account/roles'\n            text: '<i class=\"fa fa-times\"></i> Delete selected roles'\n            className: 'btn btn-sm btn-danger pull-right'\n            formId: 'active-delete'\n\nincr = index\n\nindex = $.inArray 'create', activeButtons\n\nif index != -1 \n    index += incr;\n    activeTable.button()\n        .add index,\n            text: '<i class=\"fa fa-plus\"></i> Create new role'\n            url: 'admin/inoplate-account/roles/create'\n            className: 'btn btn-sm btn-primary pull-right'\n            init: ( dt, button, config )->\n                $ button.prop \"href\", config.url\n            action: (e, dt, node, config) ->\n                container = dt.table().container()\n\n                $ '#create-form'\n                    .modal 'show'\n\n                return\n\ntrashedButtons = $ '#trashed-table'\n                        .data 'actions'\n\nincr = 2;\n\nindex = $.inArray 'delete', trashedButtons\n\nif index != -1 \n    index += incr;\n    trashedTable.button()\n        .add index,\n            extend: 'bulk'\n            method: 'delete'\n            url: 'admin/inoplate-account/roles/delete'\n            text: '<i class=\"fa fa-times\"></i> Permanently delete selected roles'\n            className: 'btn btn-sm btn-danger pull-right'\n            formClass: 'undoable'\n\nincr = index\n\nindex = $.inArray 'create', trashedButtons\n\nif index != -1 \n    index += incr;\n    trashedTable.button()\n        .add index,\n            extend: 'bulk'\n            method: 'put'\n            formId: 'trashed-restore'\n            text: '<i class=\"fa fa-undo\"></i> Restore selected roles'\n            url: 'admin/inoplate-account/roles/restore'\n            className: 'btn btn-sm btn-info pull-right'"],"sourceRoot":"/source/"}